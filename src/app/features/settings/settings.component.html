<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white tracking-tight">Settings</h1>
    <p class="text-gray-600 dark:text-gray-400 mt-2 text-lg">Manage your account, organization, and integrations.</p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
    <!-- Sidebar Navigation -->
    <div class="lg:col-span-3">
      <nav class="space-y-2 sticky top-8">
        <button
          (click)="selectTab('general')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'general'"
          [class.text-indigo-600]="activeTab() === 'general'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'general'"
          [class.dark:text-indigo-400]="activeTab() === 'general'"
          [class.text-gray-600]="activeTab() !== 'general'"
          [class.dark:text-gray-400]="activeTab() !== 'general'"
          [class.hover:bg-gray-50]="activeTab() !== 'general'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'general'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'general'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matAdminPanelSettings"></ng-icon></span>
          <span class="relative">General</span>
        </button>

        <button
          (click)="selectTab('organization')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'organization'"
          [class.text-indigo-600]="activeTab() === 'organization'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'organization'"
          [class.dark:text-indigo-400]="activeTab() === 'organization'"
          [class.text-gray-600]="activeTab() !== 'organization'"
          [class.dark:text-gray-400]="activeTab() !== 'organization'"
          [class.hover:bg-gray-50]="activeTab() !== 'organization'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'organization'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'organization'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matApartment"></ng-icon></span>
          <span class="relative">Organization</span>
        </button>

        <button
          (click)="selectTab('integrations')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'integrations'"
          [class.text-indigo-600]="activeTab() === 'integrations'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'integrations'"
          [class.dark:text-indigo-400]="activeTab() === 'integrations'"
          [class.text-gray-600]="activeTab() !== 'integrations'"
          [class.dark:text-gray-400]="activeTab() !== 'integrations'"
          [class.hover:bg-gray-50]="activeTab() !== 'integrations'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'integrations'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'integrations'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matLink"></ng-icon></span>
          <span class="relative">Integrations</span>
        </button>

        <button
          (click)="selectTab('developer')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'developer'"
          [class.text-indigo-600]="activeTab() === 'developer'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'developer'"
          [class.dark:text-indigo-400]="activeTab() === 'developer'"
          [class.text-gray-600]="activeTab() !== 'developer'"
          [class.dark:text-gray-400]="activeTab() !== 'developer'"
          [class.hover:bg-gray-50]="activeTab() !== 'developer'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'developer'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'developer'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matApi"></ng-icon></span>
          <span class="relative">Developer</span>
        </button>

        <button
          (click)="selectTab('notifications')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'notifications'"
          [class.text-indigo-600]="activeTab() === 'notifications'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'notifications'"
          [class.dark:text-indigo-400]="activeTab() === 'notifications'"
          [class.text-gray-600]="activeTab() !== 'notifications'"
          [class.dark:text-gray-400]="activeTab() !== 'notifications'"
          [class.hover:bg-gray-50]="activeTab() !== 'notifications'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'notifications'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'notifications'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matNotifications"></ng-icon></span>
          <span class="relative">Notifications</span>
        </button>

        <button
          (click)="selectTab('billing')"
          class="w-full text-left px-4 py-3 rounded-xl transition-all duration-200 flex items-center gap-3 font-medium group relative overflow-hidden"
          [class.bg-indigo-50]="activeTab() === 'billing'"
          [class.text-indigo-600]="activeTab() === 'billing'"
          [class.dark:bg-indigo-500/10]="activeTab() === 'billing'"
          [class.dark:text-indigo-400]="activeTab() === 'billing'"
          [class.text-gray-600]="activeTab() !== 'billing'"
          [class.dark:text-gray-400]="activeTab() !== 'billing'"
          [class.hover:bg-gray-50]="activeTab() !== 'billing'"
          [class.dark:hover:bg-white/5]="activeTab() !== 'billing'"
        >
          <div class="absolute inset-0 bg-indigo-600/5 dark:bg-indigo-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300" *ngIf="activeTab() !== 'billing'"></div>
          <span class="flex items-center justify-center text-xl group-hover:scale-110 transition-transform duration-200"><ng-icon name="matCreditCard"></ng-icon></span>
          <span class="relative">Billing</span>
        </button>
      </nav>
    </div>

    <!-- Content Area -->
    <div class="lg:col-span-9 space-y-8">
      
      <!-- General Tab -->
      @if (activeTab() === 'general') {
        <!-- Profile Section -->
        <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
          <div class="flex justify-between items-start mb-6">
            <div>
              <h2 class="text-xl font-bold text-gray-900 dark:text-white">Profile Settings</h2>
              <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Update your personal information.</p>
            </div>
            <button
              (click)="toggleLock('profile')"
              class="text-sm px-4 py-2 rounded-lg border transition-colors font-medium"
              [class.bg-indigo-50]="!profileLocked()"
              [class.text-indigo-700]="!profileLocked()"
              [class.border-indigo-200]="!profileLocked()"
              [class.bg-gray-50]="profileLocked()"
              [class.text-gray-600]="profileLocked()"
              [class.border-gray-200]="profileLocked()"
              [class.dark:bg-indigo-500/10]="!profileLocked()"
              [class.dark:text-indigo-300]="!profileLocked()"
              [class.dark:border-indigo-500/30]="!profileLocked()"
              [class.dark:bg-white/5]="profileLocked()"
              [class.dark:text-gray-300]="profileLocked()"
              [class.dark:border-white/10]="profileLocked()"
            >
              {{ profileLocked() ? 'Unlock to Edit' : 'Lock Changes' }}
            </button>
          </div>

          <form (ngSubmit)="updateProfile()" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">First Name</label>
                <input
                  type="text"
                  [(ngModel)]="firstName"
                  [disabled]="profileLocked()"
                  [readOnly]="profileLocked()"
                  name="firstName"
                  class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Last Name</label>
                <input
                  type="text"
                  [(ngModel)]="lastName"
                  [disabled]="profileLocked()"
                  [readOnly]="profileLocked()"
                  name="lastName"
                  class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
              <input
                type="email"
                [(ngModel)]="email"
                [disabled]="profileLocked()"
                [readOnly]="profileLocked()"
                name="email"
                class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
              />
            </div>
            <div class="flex justify-end pt-4">
              <button
                type="submit"
                [disabled]="profileLocked()"
                class="px-6 py-2.5 bg-amber-600 hover:bg-amber-700 dark:hover:bg-amber-500 text-white rounded-xl font-medium transition-all shadow-sm shadow-indigo-500/20 disabled:opacity-50 disabled:shadow-none"
              >
                Save Changes
              </button>
            </div>
          </form>
        </section>

        <!-- Security Section -->
        <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
          <div class="flex justify-between items-start mb-6">
            <div>
              <h2 class="text-xl font-bold text-gray-900 dark:text-white">Security</h2>
              <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Manage your password and security preferences.</p>
            </div>
            <button
              (click)="toggleLock('password')"
              class="text-sm px-4 py-2 rounded-lg border transition-colors font-medium"
              [class.bg-indigo-50]="!passwordLocked()"
              [class.text-indigo-700]="!passwordLocked()"
              [class.border-indigo-200]="!passwordLocked()"
              [class.bg-gray-50]="passwordLocked()"
              [class.text-gray-600]="passwordLocked()"
              [class.border-gray-200]="passwordLocked()"
              [class.dark:bg-indigo-500/10]="!passwordLocked()"
              [class.dark:text-indigo-300]="!passwordLocked()"
              [class.dark:border-indigo-500/30]="!passwordLocked()"
              [class.dark:bg-white/5]="passwordLocked()"
              [class.dark:text-gray-300]="passwordLocked()"
              [class.dark:border-white/10]="passwordLocked()"
            >
              {{ passwordLocked() ? 'Unlock to Edit' : 'Lock Changes' }}
            </button>
          </div>

          <form (ngSubmit)="changePassword()" class="space-y-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Current Password</label>
              <input
                type="password"
                [(ngModel)]="currentPassword"
                [disabled]="passwordLocked()"
                [readOnly]="passwordLocked()"
                name="currentPassword"
                class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
              />
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">New Password</label>
                <input
                  type="password"
                  [(ngModel)]="newPassword"
                  [disabled]="passwordLocked()"
                  [readOnly]="passwordLocked()"
                  name="newPassword"
                  class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Confirm New Password</label>
                <input
                  type="password"
                  [(ngModel)]="confirmPassword"
                  [disabled]="passwordLocked()"
                  [readOnly]="passwordLocked()"
                  name="confirmPassword"
                  class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all disabled:opacity-60 disabled:cursor-not-allowed text-gray-900 dark:text-white"
                />
              </div>
            </div>
            <div class="flex justify-end pt-4">
              <button
                type="submit"
                [disabled]="passwordLocked()"
                class="px-6 py-2.5 bg-amber-600 hover:bg-amber-700 dark:hover:bg-amber-500 text-white rounded-xl font-medium transition-all shadow-sm shadow-indigo-500/20 disabled:opacity-50 disabled:shadow-none"
              >
                Update Password
              </button>
            </div>
          </form>
        </section>
      }

      <!-- Organization Tab -->
      @if (activeTab() === 'organization') {
        <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Organization Details</h2>
          
          @if (isAdmin()) { @if (organization()) {
            <form (ngSubmit)="updateOrganization()" class="space-y-6 mb-10">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Organization Name</label>
                  <input
                    type="text"
                    [ngModel]="organization().name"
                    (ngModelChange)="organization().name = $event"
                    name="orgName"
                    class="w-full px-4 py-2.5 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-gray-900 dark:text-white"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subdomain</label>
                  <div class="relative">
                    <input
                      type="text"
                      [value]="organization().subdomain"
                      disabled
                      class="w-full px-4 py-2.5 bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl text-gray-500 dark:text-gray-400 cursor-not-allowed"
                    />
                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                      <span class="text-gray-400 text-xs">Read-only</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex justify-end">
                <button
                  type="submit"
                  class="px-6 py-2.5 bg-amber-600 hover:bg-amber-700 dark:hover:bg-amber-500 text-white rounded-xl font-medium transition-all shadow-sm shadow-indigo-500/20"
                >
                  Update Organization
                </button>
              </div>
            </form>
          } @else {
            <div class="animate-pulse flex space-x-4 mb-8">
              <div class="flex-1 space-y-4 py-1">
                <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-3/4"></div>
                <div class="space-y-2">
                  <div class="h-4 bg-gray-200 dark:bg-white/10 rounded"></div>
                  <div class="h-4 bg-gray-200 dark:bg-white/10 rounded w-5/6"></div>
                </div>
              </div>
            </div>
          } }

          <div class="border-t border-gray-200 dark:border-white/10 pt-8">
            <app-team-settings></app-team-settings>
          </div>
        </section>
      }

      <!-- Integrations Tab -->
      @if (activeTab() === 'integrations') {
        <div class="space-y-8">
          <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Social Accounts</h2>
            <app-credential-manager></app-credential-manager>
          </section>

          <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">LLM Providers</h2>
            <app-llm-credentials></app-llm-credentials>
          </section>
        </div>
      }

      <!-- Developer Tab -->
      @if (activeTab() === 'developer') {
        <div class="space-y-8">
          <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">OAuth Credentials</h2>
            <app-developer-settings></app-developer-settings>
          </section>

          <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">API Keys</h2>
            <app-api-keys-settings></app-api-keys-settings>
          </section>
        </div>
      }

      <!-- Notifications Tab -->
      @if (activeTab() === 'notifications') {
        <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Notification Preferences</h2>
          
          <div class="space-y-4">
            <label class="flex items-center justify-between p-5 border border-gray-200 dark:border-white/10 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group">
              <div>
                <p class="font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">Post Published</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Get notified when a post is successfully published to your social accounts.</p>
              </div>
              <div class="relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer">
                <input type="checkbox" [(ngModel)]="notifications().emailOnPublish" class="absolute w-6 h-6 opacity-0 z-10 cursor-pointer peer"/>
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"></div>
              </div>
            </label>

            <label class="flex items-center justify-between p-5 border border-gray-200 dark:border-white/10 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group">
              <div>
                <p class="font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">Post Failed</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Get notified immediately if a scheduled post fails to publish.</p>
              </div>
              <div class="relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer">
                <input type="checkbox" [(ngModel)]="notifications().emailOnFail" class="absolute w-6 h-6 opacity-0 z-10 cursor-pointer peer"/>
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"></div>
              </div>
            </label>

            <label class="flex items-center justify-between p-5 border border-gray-200 dark:border-white/10 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group">
              <div>
                <p class="font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">Weekly Report</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Receive a weekly summary of your content performance and engagement.</p>
              </div>
              <div class="relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer">
                <input type="checkbox" [(ngModel)]="notifications().weeklyReport" class="absolute w-6 h-6 opacity-0 z-10 cursor-pointer peer"/>
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"></div>
              </div>
            </label>

            <label class="flex items-center justify-between p-5 border border-gray-200 dark:border-white/10 rounded-xl cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group">
              <div>
                <p class="font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">New Insights</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Get notified when new AI-generated insights are available for your content.</p>
              </div>
              <div class="relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer">
                <input type="checkbox" [(ngModel)]="notifications().newInsights" class="absolute w-6 h-6 opacity-0 z-10 cursor-pointer peer"/>
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"></div>
              </div>
            </label>
          </div>

          <div class="flex justify-end mt-8">
            <button
              (click)="saveNotificationSettings()"
              class="px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white rounded-xl font-medium transition-all shadow-sm shadow-indigo-500/20"
            >
              Save Preferences
            </button>
          </div>
        </section>
      }

      <!-- Billing Tab -->
      @if (activeTab() === 'billing') {
        <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow-sm border border-gray-200 dark:border-neutral-800 p-8">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Subscription & Billing</h2>
          <app-subscription-settings></app-subscription-settings>
        </section>
      }
    </div>
  </div>
</div>
